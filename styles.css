/* =========================
   MoodMap Design System v1.3
   (responsive carousel card + cleaner hero + safer spacing + better flow alignment)
   ========================= */

:root{
  /* Light ‚ÄúApplyWise-like‚Äù backdrop */
  --bg-0: #E9EEF1;
  --bg-1: rgba(255,255,255,0.55);
  --bg-2: rgba(255,255,255,0.78);

  --stroke-1: rgba(15,23,42,0.10);
  --stroke-2: rgba(15,23,42,0.14);

  --text-1: rgba(15,23,42,0.92);
  --text-2: rgba(15,23,42,0.70);
  --text-3: rgba(15,23,42,0.52);

  --brand-1: #5B7CFF;
  --brand-2: #22D3EE;
  --brand-3: #9B7BFF;

  --grad-brand: linear-gradient(135deg, var(--brand-1), #3B82F6 55%, var(--brand-2));

  --shadow-1: 0 10px 30px rgba(2,6,23,0.10);
  --shadow-2: 0 18px 60px rgba(2,6,23,0.12);

  --r-1: 14px;
  --r-2: 18px;
  --r-3: 24px;

  --glass-blur: 18px;
  --glass-sat: 120%;

  --font: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New";

  --container: 1120px;

  /* ‚úÖ spacing scale */
  --s-1: 6px;
  --s-2: 10px;
  --s-3: 14px;
  --s-4: 18px;
  --s-5: 24px;
  --s-6: 34px;
  --s-7: 56px;

  /* ‚úÖ layout constants */
  --topbar-h: 64px;
}

/* Prevent weird overflow + accidental horizontal scroll */
html, body{ overflow-x: hidden; }

body{
  margin:0;
  font-family: var(--font);
  color: var(--text-1);
  background:
    radial-gradient(1100px 650px at 25% 10%, rgba(91,124,255,0.20), transparent 60%),
    radial-gradient(980px 700px at 85% 12%, rgba(34,211,238,0.14), transparent 62%),
    radial-gradient(1200px 820px at 55% 90%, rgba(155,123,255,0.10), transparent 62%),
    linear-gradient(180deg, #DDE5EA 0%, #EEF3F6 55%, #DDE5EA 100%);
}

img{ max-width:100%; display:block; }
a{ color: inherit; text-decoration: none; }
a:hover{ opacity: 0.92; }

.container{
  width: min(var(--container), calc(100% - 2*var(--s-5)));
  margin: 0 auto;
}

.section{ padding: var(--s-7) 0; }
.section--tight{ padding: var(--s-6) 0; }

.hr{
  height:1px;
  background: linear-gradient(90deg, transparent, rgba(15,23,42,0.10), transparent);
  margin: var(--s-6) 0;
}

.h1{ font-size: clamp(32px, 4vw, 52px); letter-spacing: -0.02em; line-height:1.08; margin:0; }
.h2{ font-size: clamp(22px, 2.2vw, 30px); letter-spacing: -0.01em; margin:0; }
.h3{ font-size: 18px; margin:0; }
.p { color: var(--text-2); margin:0; }

.kicker{
  font-family: var(--mono);
  font-size: 12px;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  color: var(--text-3);
  margin: 0 0 10px 0;
}

.grad{
  background: var(--grad-brand);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

.card{
  background: var(--bg-1);
  border: 1px solid var(--stroke-1);
  border-radius: var(--r-3);
  box-shadow: var(--shadow-1);
  backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-sat));
  -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-sat));
}

.pad{ padding: var(--s-5); }

.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap: 10px;
  padding: 12px 16px;
  border-radius: 999px;
  border: 1px solid rgba(15,23,42,0.12);
  background: rgba(255,255,255,0.66);
  color: var(--text-1);
  cursor:pointer;
  transition: transform 160ms ease, background 160ms ease, border 160ms ease, opacity 160ms ease;
  font: inherit;
}
.btn:hover{
  transform: translateY(-1px);
  background: rgba(255,255,255,0.78);
  border-color: rgba(15,23,42,0.16);
}
.btn--primary{
  background: var(--grad-brand);
  border-color: rgba(255,255,255,0.24);
  color: white;
}
.btn:focus{
  outline: 2px solid rgba(91,124,255,0.55);
  outline-offset: 3px;
}

/* ‚úÖ Topbar (light + consistent height) */
.topbar{
  position: sticky;
  top: 0;
  z-index: 50;
  height: var(--topbar-h);
  display: flex;
  align-items: center;
  backdrop-filter: blur(16px) saturate(140%);
  -webkit-backdrop-filter: blur(16px) saturate(140%);
  background: rgba(160,170,182,0.55);
  border-bottom: 1px solid rgba(15,23,42,0.08);
}

.topbar__inner{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding: 14px 0;
  gap: var(--s-4);
  width: 100%;
}

.brand{
  display:flex;
  align-items:center;
  gap: 10px;
  white-space: nowrap;
}
.brand__dot{
  width: 12px; height: 12px;
  border-radius: 50%;
  background: var(--grad-brand);
  box-shadow: 0 0 0 4px rgba(91,124,255,0.12);
}
.brand__name{ font-weight: 700; letter-spacing: -0.01em; }
.brand__sub{
  color: var(--text-3);
  font-family: var(--mono);
  font-size: 12px;
  letter-spacing: 0.08em;
  text-transform: uppercase;
}

.nav{
  display:flex;
  gap: 14px;
  flex-wrap: wrap;
  justify-content:center;
}
.nav a{
  color: var(--text-2);
  font-size: 14px;
  padding: 8px 10px;
  border-radius: 999px;
  border: 1px solid transparent;
}
.nav a:hover{
  color: var(--text-1);
  border-color: rgba(15,23,42,0.10);
  background: rgba(255,255,255,0.55);
}

.topbar__cta{ display:flex; gap: 10px; }

/* Hero */
.hero{
  padding-top: 40px;
  padding-bottom: 36px;
}
.hero__grid{
  display:grid;
  grid-template-columns: 1.05fr 0.95fr;
  gap: 28px;
  align-items: start;
}
.hero__sub{ margin-top: var(--s-3); max-width: 58ch; }
.hero__actions{ margin-top: var(--s-4); display:flex; gap: 12px; flex-wrap: wrap; }

/* ‚úÖ Sticky right column (prevents giant blank gaps + keeps preview visible) */
.hero__right{
  position: sticky;
  top: calc(var(--topbar-h) + 18px);
  align-self: start;
  height: fit-content;
  max-height: calc(100vh - (var(--topbar-h) + 34px));
  overflow: auto;
  overscroll-behavior: contain;
  scrollbar-gutter: stable both-edges;
}

.hero__preview{
  border-radius: calc(var(--r-3) - 6px);
  overflow:hidden;
  border: 1px solid rgba(15,23,42,0.10);
  background: rgba(255,255,255,0.50);
}
.hero__preview img{
  width: 100%;
  height: auto;
  max-height: 520px;
  object-fit: contain;
}

.hero__rightMeta{
  padding: var(--s-4);
  display:grid;
  gap: var(--s-3);
}
.meta__k{ margin:0; color: var(--text-3); font-family: var(--mono); font-size: 12px; text-transform: uppercase; letter-spacing: 0.08em; }
.meta__v{ margin:0; color: var(--text-2); }

.chips{ margin-top: var(--s-4); display:flex; gap: 10px; flex-wrap: wrap; }
.chip{
  padding: 8px 12px;
  border-radius: 999px;
  background: rgba(255,255,255,0.55);
  border: 1px solid rgba(15,23,42,0.10);
  color: var(--text-2);
  font-size: 13px;
}

.mini{ margin-top: var(--s-5); padding: var(--s-4); }
.mini__row{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 14px;
}
.mini__label{ margin:0; color: var(--text-3); font-family: var(--mono); font-size: 12px; text-transform: uppercase; letter-spacing: 0.08em; }
.mini__value{ margin: 6px 0 0 0; color: var(--text-2); }

@media (max-width: 980px){
  .hero__grid{ grid-template-columns: 1fr; }
  .hero__right{
    position: static;
    max-height: none;
    overflow: visible;
  }
  .mini__row{ grid-template-columns: 1fr; }
  .nav{ display:none; }
}

/* Section head */
.sectionHead{
  display:grid;
  gap: 10px;
  margin-bottom: var(--s-5);
  max-width: 78ch;
}

/* Layout helpers */
.grid-2{
  display:grid;
  grid-template-columns: 1.15fr 0.85fr;
  gap: var(--s-5);
  align-items: start;
}
.grid-2--equal{
  grid-template-columns: 1fr 1fr;
}
.grid-3{
  display:grid;
  grid-template-columns: repeat(3, 1fr);
  gap: var(--s-5);
  margin-top: var(--s-5);
}
@media (max-width: 960px){
  .grid-2, .grid-2--equal{ grid-template-columns: 1fr; }
  .grid-3{ grid-template-columns: 1fr; }
}

.list{
  margin: 12px 0 0 18px;
  padding:0;
  color: var(--text-2);
}
.list li{ margin: 8px 0; }

.callout{
  margin-top: var(--s-5);
  padding: var(--s-4);
  display:flex;
  gap: 14px;
  align-items:flex-start;
}
.callout__icon{
  width: 34px; height: 34px;
  border-radius: 12px;
  background: rgba(255,255,255,0.55);
  border: 1px solid rgba(15,23,42,0.10);
  display:grid;
  place-items:center;
}
.callout__title{
  margin:0 0 6px 0;
  font-weight: 700;
}

.note{
  margin-top: var(--s-4);
  padding: 12px 14px;
  border-radius: var(--r-2);
  border: 1px solid rgba(15,23,42,0.10);
  background: rgba(255,255,255,0.55);
}
.note__k{ margin:0; font-family: var(--mono); font-size: 12px; letter-spacing: 0.08em; text-transform: uppercase; color: var(--text-3); }
.note__v{ margin:6px 0 0 0; }

.stack{ display:grid; gap: 12px; margin-top: 12px; }
.pill{
  padding: 12px 14px;
  border-radius: var(--r-2);
  border: 1px solid rgba(15,23,42,0.10);
  background: rgba(255,255,255,0.55);
}
.pill__t{ margin:0 0 6px 0; font-weight: 700; }

/* ‚úÖ Flow cards alignment fix */
.flowCard{
  display:flex;
  flex-direction: column;
  min-height: 520px;
}
@media (max-width: 960px){
  .flowCard{ min-height: auto; }
}

.imgFrame{
  margin-top: var(--s-3);
  border-radius: var(--r-2);
  overflow:hidden;
  border: 1px solid rgba(15,23,42,0.10);
  background: rgba(255,255,255,0.50);
  flex: 1;

  display:flex;
  align-items:center;
  justify-content:center;
  padding: var(--s-4);
}

/* Ensures both flow images center consistently */
.imgFrame img{
  width: 100%;
  height: auto;
  object-fit: contain;
  display: block;
}

.flowImg{
  max-height: 520px;
  width: 100%;
  height: auto;
  object-fit: contain;
}
.flowImg--narrow{
  max-width: 420px;
  margin: 0 auto;
}

/* =========================
   ‚úÖ Responsive Carousel Card (fits screen sizes)
   ========================= */

.carousel{ padding: var(--s-5); }

.carousel__top{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: var(--s-4);
  margin-bottom: var(--s-4);
  flex-wrap: wrap;
}

.carousel__controls{ display:flex; gap: 10px; }

/* Viewport is responsible for height (prevents overflow / weird gaps) */
.carousel__viewport{
  overflow:hidden;
  border-radius: var(--r-2);
  border: 1px solid rgba(15,23,42,0.10);
  background: rgba(255,255,255,0.45);

  /* üëá key responsive height */
  height: clamp(420px, 60vh, 720px);
}

.carousel__track{
  display:flex;
  height: 100%;
  will-change: transform;
  transition: transform 320ms ease;
}

.carousel__slide{
  min-width: 100%;
  height: 100%;
  padding: clamp(14px, 2.2vw, 24px);
  margin:0;

  display:grid;
  grid-template-rows: 1fr auto;
  align-items:center;
  justify-items:center;
  gap: 10px;
}

.carousel__slide img{
  width: auto;
  max-width: min(78%, 520px);
  height: auto;

  /* üëá key: fits inside viewport */
  max-height: calc(100% - 42px);

  border-radius: 18px;
  border: 1px solid rgba(15,23,42,0.10);
  box-shadow: 0 18px 60px rgba(2,6,23,0.16);
  background: rgba(255,255,255,0.60);
  object-fit: contain;
}

.carousel__slide figcaption{
  color: var(--text-3);
  font-size: 13px;
  font-family: var(--mono);
  letter-spacing: 0.06em;
  text-transform: uppercase;
  text-align: center;
}

.carousel__dots{
  display:flex;
  gap: 10px;
  justify-content:center;
  margin-top: var(--s-4);
  flex-wrap: wrap;
}

.dot{
  width: 10px;
  height: 10px;
  border-radius: 999px;
  border: 1px solid rgba(15,23,42,0.18);
  background: rgba(255,255,255,0.55);
  cursor:pointer;
  transition: transform 140ms ease, opacity 140ms ease, background 140ms ease;
  opacity: 0.75;
}
.dot:hover{ transform: scale(1.08); opacity: 0.95; }
.dot.is-active{
  background: var(--grad-brand);
  opacity: 1;
  border-color: rgba(255,255,255,0.24);
}

/* Mobile tuning: bigger image, slightly shorter viewport */
@media (max-width: 720px){
  .carousel__viewport{
    height: clamp(420px, 62vh, 640px);
  }
  .carousel__slide img{
    max-width: 92%;
  }
}

/* Footer */
.footer{ margin-top: var(--s-6); padding: var(--s-4); }
.footer__inner{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap: var(--s-4);
  flex-wrap: wrap;
}
